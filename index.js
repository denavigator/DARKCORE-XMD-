require("dotenv").config();const { default: makeWASocket, useMultiFileAuthState, fetchLatestBaileysVersion } = require("@adiwajshing/baileys");const pino = require("pino");const fs = require("fs");const settings = JSON.parse(fs.readFileSync("./settings.json"));const apps = JSON.parse(fs.readFileSync("./apps.json"));const PREFIX = process.env.PREFIX || apps.owner.prefix;const OWNER = process.env.OWNER_NUMBER || apps.owner.number;async function startBot() {  const { state, saveCreds } = await useMultiFileAuthState("auth_info");  const { version } = await fetchLatestBaileysVersion();  const sock = makeWASocket({    logger: pino({ level: "silent" }),    printQRInTerminal: true,    auth: state,    version  });  sock.ev.on("creds.update", saveCreds);  sock.ev.on("messages.upsert", async ({ messages }) => {    const msg = messages[0];    if (!msg.message) return;    const from = msg.key.remoteJid;    const text = msg.message.conversation || msg.message.extendedTextMessage?.text || "";    const sender = msg.key.participant || msg.key.remoteJid;    const isGroup = from.endsWith("@g.us");    let isAdmin = false;    if (isGroup) {      const groupMetadata = await sock.groupMetadata(from);      const admins = groupMetadata.participants.filter(p => p.admin);      isAdmin = admins.some(a => a.id === sender);    }    if (!text.startsWith(PREFIX)) return;    const command = text.slice(PREFIX.length).toLowerCase();    if (command === "ping") return sock.sendMessage(from, { text: "Pong!" });    if (command === "owner") return sock.sendMessage(from, { text: `Owner: ${OWNER}` });  });}startBot();
